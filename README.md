# ğŸ“‹ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  (Prisma + MySQL + S3)

Chrome Extensionã‹ã‚‰é€ä¿¡ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ä¿å­˜ãƒ»ç®¡ç†ã™ã‚‹Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## âœ¨ æ©Ÿèƒ½

- ğŸ“¨ Chrome Extensionã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å—ä¿¡API
- ğŸ“Š çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆç·æ•°ã€ä»Šæ—¥ã€ä»Šé€±ã®ä»¶æ•°ï¼‰
- ğŸ“‹ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¸€è¦§è¡¨ç¤º
- ğŸ” è©³ç´°æƒ…å ±ã®è¡¨ç¤ºï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰
- ğŸ—‘ï¸ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®å‰Šé™¤æ©Ÿèƒ½
- ğŸ—„ï¸ Prisma + MySQLã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- ğŸ“¸ AWS S3ã«ã‚ˆã‚‹ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜
- ğŸ¨ ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ãƒ¢ãƒ€ãƒ³UI
- ğŸ’¬ Slacké€šçŸ¥æ©Ÿèƒ½ï¼ˆãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å—ä¿¡æ™‚ã®è‡ªå‹•é€šçŸ¥ï¼‰

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
Chrome Extension â†’ API â†’ Prisma â†’ MySQL
                    â†“
                  S3 (ç”»åƒä¿å­˜)
                    â†“
               Dashboard (ç®¡ç†ç”»é¢)
```

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. å‰ææ¡ä»¶

- Node.js 18+
- MySQL 8.0+
- AWS S3ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ

MySQLã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆï¼š

\`\`\`sql
CREATE DATABASE `test-suite` CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
\`\`\`

### 3. ç’°å¢ƒå¤‰æ•°è¨­å®š

\`.env\`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®å†…å®¹ã‚’è¨­å®šï¼š

\`\`\`env
# Database
DATABASE_URL="mysql://root:secret@localhost:3306/test-suite?schema=public&sslmode=prefer"

# AWS S3 Configuration
AWS_REGION="ap-northeast-1"
AWS_ACCESS_KEY_ID="your-access-key-id"
AWS_SECRET_ACCESS_KEY="your-secret-access-key"
AWS_S3_BUCKET_NAME="your-bucket-name"

# Slack Configuration (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"
\`\`\`

### 4. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

\`\`\`bash
npm install
\`\`\`

### 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

\`\`\`bash
npx prisma migrate dev
npx prisma generate
\`\`\`

### 6. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

\`\`\`bash
npm run dev
\`\`\`

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ \`http://localhost:3300\` ã§èµ·å‹•ã—ã¾ã™ã€‚

## ğŸ”Œ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å—ä¿¡
- **URL**: \`POST /api/feedback\`
- **èª¬æ˜**: Chrome Extensionã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ä¿¡
- **CORSå¯¾å¿œ**: âœ…
- **ãƒªã‚¯ã‚¨ã‚¹ãƒˆå½¢å¼**:
\`\`\`json
{
  "comment": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚³ãƒ¡ãƒ³ãƒˆ",
  "screenshotUrl": "https://bucket.s3.region.amazonaws.com/path/to/image.png",
  "metadata": {
    "url": "https://example.com",
    "title": "ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«",
    "timestamp": 1640995200000,
    "userAgent": "Mozilla/5.0..."
  }
}
\`\`\`

### S3ãƒ—ãƒªã‚µã‚¤ãƒ³URLç”Ÿæˆ
- **URL**: \`POST /api/s3/presigned-url\`
- **èª¬æ˜**: S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”¨ã®ãƒ—ãƒªã‚µã‚¤ãƒ³URLã‚’ç”Ÿæˆ
- **ãƒªã‚¯ã‚¨ã‚¹ãƒˆå½¢å¼**:
\`\`\`json
{
  "fileName": "screenshot.png",
  "fileType": "image/png",
  "feedbackId": 123
}
\`\`\`

### ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¸€è¦§å–å¾—
- **URL**: \`GET /api/feedback/list\`
- **èª¬æ˜**: ä¿å­˜ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¸€è¦§ã¨çµ±è¨ˆæƒ…å ±ã‚’å–å¾—

### ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å‰Šé™¤
- **URL**: \`DELETE /api/feedback/[id]\`
- **èª¬æ˜**: æŒ‡å®šã•ã‚ŒãŸIDã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å‰Šé™¤

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

### feedbacks ãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å | å‹ | èª¬æ˜ |
|----------|----|----|
| id | INT | ä¸»ã‚­ãƒ¼ï¼ˆè‡ªå‹•å¢—åˆ†ï¼‰ |
| comment | TEXT | ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹ |
| screenshot_url | VARCHAR(500) | S3ç”»åƒURL |
| tab_url | VARCHAR(2000) | ãƒšãƒ¼ã‚¸URL |
| tab_title | VARCHAR(500) | ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ« |
| timestamp | BIGINT | é€ä¿¡æ™‚ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ— |
| user_agent | TEXT | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ |
| created_at | DATETIME | ä½œæˆæ—¥æ™‚ |
| updated_at | DATETIME | æ›´æ–°æ—¥æ™‚ |

## ğŸ“¸ S3ç”»åƒç®¡ç†

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

\`\`\`
bucket-name/
â”œâ”€â”€ feedbacks/
â”‚   â”œâ”€â”€ 2024/
â”‚   â”‚   â”œâ”€â”€ 01/
â”‚   â”‚   â”‚   â”œâ”€â”€ 01/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ 1_1640995200000.png
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 2_1640995300000.png
â”‚   â”‚   â”‚   â””â”€â”€ 02/
â”‚   â”‚   â””â”€â”€ 02/
â”‚   â””â”€â”€ temp/ (ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«)
\`\`\`

### ãƒ—ãƒªã‚µã‚¤ãƒ³URL

- **æœ‰åŠ¹æœŸé™**: 15åˆ†
- **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ
- **ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ç›´æ¥S3ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

## ğŸ’¬ Slacké€šçŸ¥æ©Ÿèƒ½

### æ¦‚è¦

ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå—ä¿¡ã•ã‚Œã‚‹ã¨ã€è‡ªå‹•çš„ã«Slackãƒãƒ£ãƒ³ãƒãƒ«ã«é€šçŸ¥ãŒé€ä¿¡ã•ã‚Œã¾ã™ã€‚

### æ©Ÿèƒ½è©³ç´°

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥**: ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å—ä¿¡ã¨åŒæ™‚ã«é€šçŸ¥
- **ãƒªãƒƒãƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å†…å®¹ã‚’æ•´ç†ã•ã‚ŒãŸå½¢ã§è¡¨ç¤º
- **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆè¡¨ç¤º**: ç”»åƒãŒå«ã¾ã‚Œã‚‹å ´åˆã¯é€šçŸ¥å†…ã«è¡¨ç¤º
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æƒ…å ±**: URLã€ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã€æŠ•ç¨¿æ™‚åˆ»ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- **å …ç‰¢ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: é€šçŸ¥å¤±æ•—æ™‚ã‚‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å‡¦ç†ã¯ç¶™ç¶š

### é€šçŸ¥å½¢å¼

Slackã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚ŒãŸé€šçŸ¥ãŒé€ä¿¡ã•ã‚Œã¾ã™ï¼š

- ğŸ“ **ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ID**: è­˜åˆ¥ç”¨ã®ä¸€æ„ID
- â° **æŠ•ç¨¿æ™‚åˆ»**: æ—¥æœ¬æ™‚é–“ã§è¡¨ç¤º
- ğŸŒ **ãƒšãƒ¼ã‚¸æƒ…å ±**: ã‚¿ã‚¤ãƒˆãƒ«ã¨URLï¼ˆãƒªãƒ³ã‚¯ä»˜ãï¼‰
- ğŸ’¬ **ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- ğŸ“¸ **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: ç”»åƒãŒã‚ã‚‹å ´åˆã¯è¡¨ç¤º
- ğŸ–¥ï¸ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**: ãƒ–ãƒ©ã‚¦ã‚¶ãƒ»OSæƒ…å ±

### è¨­å®šæ–¹æ³•

1. **Slack WebhookURLã®å–å¾—**
   - Slackãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹
   - ã€ŒIncoming Webhooksã€ã‚¢ãƒ—ãƒªã‚’è¿½åŠ 
   - é€šçŸ¥å…ˆãƒãƒ£ãƒ³ãƒãƒ«ã‚’é¸æŠã—ã¦Webhook URLã‚’ç”Ÿæˆ

2. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
   ```env
   SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"
   ```

3. **é€šçŸ¥ã®æœ‰åŠ¹åŒ–**
   - ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã‚‹ã¨è‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–
   - ç’°å¢ƒå¤‰æ•°ãŒæœªè¨­å®šã®å ´åˆã¯é€šçŸ¥ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆã‚¨ãƒ©ãƒ¼ã«ã¯ãªã‚‰ãªã„ï¼‰

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

- âŒ **Webhook URLæœªè¨­å®š**: è­¦å‘Šãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã‚¹ã‚­ãƒƒãƒ—
- âŒ **Slack API ã‚¨ãƒ©ãƒ¼**: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’è¨˜éŒ²ã—ã¦å‡¦ç†ç¶™ç¶š
- âŒ **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¾‹å¤–**: ä¾‹å¤–ãƒ­ã‚°ã‚’è¨˜éŒ²ã—ã¦å‡¦ç†ç¶™ç¶š
- âœ… **ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å‡¦ç†**: é€šçŸ¥å¤±æ•—æ™‚ã‚‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¿å­˜ã¯æˆåŠŸ

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### 1. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
\`\`\`bash
npm run dev
\`\`\`

### 2. Chrome Extensionã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é€ä¿¡
- æ‹¡å¼µæ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›
- è‡ªå‹•ã§ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾—
- S3ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’MySQLã«ä¿å­˜

### 3. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ç¢ºèª
- \`http://localhost:3300\` ã«ã‚¢ã‚¯ã‚»ã‚¹
- çµ±è¨ˆæƒ…å ±ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä¸€è¦§ã‚’ç¢ºèª
- S3ç”»åƒã®è¡¨ç¤ºã¨ç®¡ç†

### 4. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ç®¡ç†
- ä¸€è¦§ã‹ã‚‰ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é¸æŠã—ã¦è©³ç´°ã‚’ç¢ºèª
- ä¸è¦ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å‰Šé™¤

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

\`\`\`
nextjs/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ feedback/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts          # ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å—ä¿¡API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts      # ä¸€è¦§å–å¾—API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts      # å‰Šé™¤API
â”‚   â”‚   â”‚   â””â”€â”€ s3/
â”‚   â”‚   â”‚       â””â”€â”€ presigned-url/
â”‚   â”‚   â”‚           â””â”€â”€ route.ts      # S3ãƒ—ãƒªã‚µã‚¤ãƒ³URL API
â”‚   â”‚   â”œâ”€â”€ globals.css               # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â””â”€â”€ page.tsx                  # ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ prisma.ts                 # Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ database.ts               # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ s3.ts                     # S3æ“ä½œ
â”‚   â”‚   â””â”€â”€ slack.ts                  # Slacké€šçŸ¥æ©Ÿèƒ½
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma                 # Prismaã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ migrations/                   # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ .env                              # ç’°å¢ƒå¤‰æ•°
â”œâ”€â”€ package.json
â””â”€â”€ README.md
\`\`\`

## ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: MySQLã®utf8mb4æ–‡å­—ã‚»ãƒƒãƒˆä½¿ç”¨
- **S3ã‚¢ã‚¯ã‚»ã‚¹**: ãƒ—ãƒªã‚µã‚¤ãƒ³URLã«ã‚ˆã‚‹æ™‚é–“åˆ¶é™ä»˜ãã‚¢ã‚¯ã‚»ã‚¹
- **CORSè¨­å®š**: Chrome Extensionã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¨±å¯
- **å…¥åŠ›æ¤œè¨¼**: å…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§é©åˆ‡ãªæ¤œè¨¼
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: è©³ç´°ãªãƒ­ã‚°ã¨ã‚¨ãƒ©ãƒ¼å‡¦ç†

## ğŸ“Š çµ±è¨ˆæ©Ÿèƒ½

- **ç·ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ•°**: Prismaã«ã‚ˆã‚‹é«˜é€Ÿã‚«ã‚¦ãƒ³ãƒˆ
- **ä»Šæ—¥ã®ä»¶æ•°**: æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- **ä»Šé€±ã®ä»¶æ•°**: 7æ—¥é–“ã®ãƒ‡ãƒ¼ã‚¿é›†è¨ˆ

## âš™ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- âš¡ **Next.js 15.3.3** (App Router)  
- ğŸ“˜ **TypeScript**
- ğŸ¨ **Tailwind CSS**
- ğŸ—„ï¸ **Prisma ORM** + **MySQL**
- ğŸ“¸ **AWS S3** (ãƒ—ãƒªã‚µã‚¤ãƒ³URL)
- ğŸŒ **CORSå¯¾å¿œ**
- ğŸ’¬ **Slack Webhook API** (é€šçŸ¥æ©Ÿèƒ½)

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒ

1. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
   - æœ¬ç•ªç”¨ã®MySQLæ¥ç¶šæƒ…å ±
   - æœ¬ç•ªç”¨ã®S3ãƒã‚±ãƒƒãƒˆæƒ…å ±

2. **ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤**
   \`\`\`bash
   npm run build
   npm start
   \`\`\`

3. **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
   \`\`\`bash
   npx prisma migrate deploy
   \`\`\`

## âš ï¸ æ³¨æ„äº‹é …

- MySQLã‚µãƒ¼ãƒãƒ¼ãŒ localhost:3306 ã§èµ·å‹•ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- AWS S3ãƒã‚±ãƒƒãƒˆãŒä½œæˆæ¸ˆã¿ã§ã€é©åˆ‡ãªæ¨©é™ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
- Chrome Extensionã®manifestã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ãã ã•ã„
- ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã¯é©åˆ‡ãªãƒ­ã‚°åé›†ã¨ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’è¨­å®šã—ã¦ãã ã•ã„

## ğŸ¤ Chrome Extensionã¨ã®é€£æº

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€Chrome Extensionã¨å®Œå…¨ã«çµ±åˆã•ã‚Œã¦ã„ã¾ã™ï¼š

1. **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: S3ãƒ—ãƒªã‚µã‚¤ãƒ³URLã§ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: Prismaã§MySQLã«æ°¸ç¶šåŒ–
3. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç®¡ç†**: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§å³åº§ã«ç¢ºèªãƒ»ç®¡ç†

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

\`\`\`
Chrome Extension
    â†“ (ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾—)
S3ãƒ—ãƒªã‚µã‚¤ãƒ³URL API
    â†“ (ãƒ—ãƒªã‚µã‚¤ãƒ³URLå–å¾—)
Chrome Extension
    â†“ (S3ã«ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰)
ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å—ä¿¡API
    â†“ (ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜)
MySQL Database
    â†“ (ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º)
ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
\`\`\`

## ğŸš€ æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤

1. **AWS S3ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
   ```bash
   npm run deploy:setup-s3
   ```

2. **env.productionãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š**
   - AWSç®¡ç†ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ã‚’ä½œæˆ
   - `env.production`ãƒ•ã‚¡ã‚¤ãƒ«ã«å®Ÿéš›ã®å€¤ã‚’è¨­å®š

3. **S3ãƒã‚±ãƒƒãƒˆè¨­å®šï¼ˆACLç„¡åŠ¹å¯¾å¿œï¼‰**
   ```bash
   npm run deploy:configure-s3
   ```
   â€» æ–°ã—ã„S3ãƒã‚±ãƒƒãƒˆã§ã¯ACLãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã§è¨­å®šã—ã¾ã™

4. **S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ**
   ```bash
   npm run deploy:test-s3
   ```

5. **åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ**
   ```bash
   npm run deploy:initial
   ```

### S3ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼ã®è§£æ±º

`AccessControlListNotSupported` ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

```bash
# ç¾ä»£çš„ãªS3ãƒã‚±ãƒƒãƒˆè¨­å®šï¼ˆACLç„¡åŠ¹ï¼‰ã‚’é©ç”¨
npm run deploy:configure-s3

# è¨­å®šãŒæ­£ã—ãé©ç”¨ã•ã‚ŒãŸã‹ãƒ†ã‚¹ãƒˆ
npm run deploy:test-s3
```

### GitHub Actionsã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. **GitHubãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ**
   ```bash
   git remote add origin https://github.com/your-username/your-repo.git
   git push -u origin main
   ```

2. **GitHub Secretsã®è¨­å®š**
   ãƒªãƒã‚¸ãƒˆãƒªã® Settings > Secrets and variables > Actions ã§ä»¥ä¸‹ã‚’è¨­å®š:
   - `HEROKU_API_KEY`: Heroku API ã‚­ãƒ¼
   - `HEROKU_EMAIL`: Herokuã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
   - `DATABASE_URL`: Herokuã®PostgreSQL URL
   - `AWS_REGION`: ap-northeast-1
   - `AWS_ACCESS_KEY_ID`: AWS ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼
   - `AWS_SECRET_ACCESS_KEY`: AWS ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼
   - `AWS_S3_BUCKET_NAME`: feedback-app-bucket

3. **ç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤**
   - mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
   - ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒãƒ¼ã‚¸ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰

```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
npm run deploy:set-env

# Herokuã«ãƒ‡ãƒ—ãƒ­ã‚¤
npm run deploy:heroku
```

## ğŸ†˜ ã‚µãƒãƒ¼ãƒˆãƒ»ãƒªã‚½ãƒ¼ã‚¹

- [Heroku Documentation](https://devcenter.heroku.com/)
- [Prisma Heroku Guide](https://www.prisma.io/docs/guides/deployment/deploying-to-heroku)
- [Next.js Heroku Deployment](https://nextjs.org/docs/deployment)
- [GitHub Actions Documentation](https://docs.github.com/en/actions)

å®Œå…¨ãªã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºç´šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†ãƒ»ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ãŒæ§‹ç¯‰ã•ã‚Œã¾ã—ãŸï¼ğŸ‰
